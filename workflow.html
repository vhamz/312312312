<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Crypto Trading Bot — System Architecture</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:'Inter',system-ui,-apple-system,sans-serif;
  background: radial-gradient(circle at 20% 0%, #0b1220, #05070d 60%);
  color:#e6edf3;
  min-height:100vh;
  padding:60px 24px 80px;
}

h1{
  text-align:center;
  font-size:34px;
  font-weight:700;
  letter-spacing:-0.5px;
  margin-bottom:10px;
}

.subtitle{
  text-align:center;
  color:#8b949e;
  font-size:14px;
  margin-bottom:60px;
}

/* GRID LAYOUT */

.pipeline{
  max-width:1200px;
  margin:0 auto;
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:28px;
}

.section{
  background:linear-gradient(180deg,#0f1626,#0b111d);
  border:1px solid #1c2435;
  border-radius:20px;
  padding:24px;
  position:relative;
  overflow:hidden;
}

.section::before{
  content:'';
  position:absolute;
  inset:0;
  background:linear-gradient(120deg,transparent,rgba(255,255,255,0.03));
}

.section-title{
  font-size:18px;
  font-weight:600;
  margin-bottom:18px;
  display:flex;
  align-items:center;
  gap:10px;
}

.node{
  background:#0b1220;
  border:1px solid #1e2739;
  border-radius:14px;
  padding:16px 18px;
  margin-bottom:14px;
  transition:all .25s ease;
}

.node:hover{
  transform:translateY(-3px);
  border-color:#2f81f7;
  box-shadow:0 10px 25px rgba(0,0,0,.35);
}

.node-title{
  font-size:15px;
  font-weight:600;
  margin-bottom:4px;
}

.node-desc{
  font-size:13px;
  color:#8b949e;
  line-height:1.5;
}

.badge{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  font-size:11px;
  font-weight:600;
  margin-left:8px;
}

.badge.auto{background:#1f6feb22;color:#58a6ff}
.badge.custom{background:#bc8cff22;color:#bc8cff}
.badge.api{background:#f0883e22;color:#f0883e}

.metrics{
  margin-top:12px;
  font-size:12px;
  color:#aab4c3;
  font-family:monospace;
  line-height:1.6;
}

/* FULL WIDTH SECTIONS */

.full{
  grid-column:span 2;
}

/* STATS */

.stats{
  margin-top:60px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:20px;
  max-width:1100px;
  margin-left:auto;
  margin-right:auto;
}

.stat{
  background:linear-gradient(180deg,#0f1626,#0b111d);
  border:1px solid #1e2739;
  border-radius:16px;
  padding:22px;
  text-align:center;
}

.stat-value{
  font-size:28px;
  font-weight:700;
  margin-bottom:6px;
}

.stat-label{
  font-size:12px;
  color:#8b949e;
}

@media(max-width:900px){
  .pipeline{grid-template-columns:1fr}
  .full{grid-column:span 1}
}

</style>
</head>

<body>

<h1>Crypto Trading Bot — Architecture</h1>
<p class="subtitle">Sharpe-focused pipeline · ML + LLM hybrid decision system</p>

<div class="pipeline">

  <div class="section">
    <div class="section-title">Market & News Data</div>

    <div class="node">
      <div class="node-title">Load Market Dataset <span class="badge auto">AUTO</span></div>
      <div class="node-desc">crypto_features_3months.csv · indicators, MA, RSI, volatility, returns</div>
    </div>

    <div class="node">
      <div class="node-title">Load News Stream <span class="badge auto">AUTO</span></div>
      <div class="node-desc">crypto_news_3months.csv · sentiment context per date</div>
    </div>
  </div>


  <div class="section">
    <div class="section-title">Pre-Processing</div>

    <div class="node">
      <div class="node-title">Merge by Date</div>
      <div class="node-desc">Attach top 3 relevant news snippets to each market snapshot</div>
    </div>

    <div class="node">
      <div class="node-title">Feature Preparation</div>
      <div class="node-desc">MA cross, RSI zone, volatility state, BB position</div>
    </div>
  </div>


  <div class="section full">
    <div class="section-title">LLM Intelligence Layer</div>

    <div class="node">
      <div class="node-title">Prompt Construction <span class="badge custom">CUSTOM</span></div>
      <div class="node-desc">22 indicators + news + market state → structured risk analysis request</div>
      <div class="metrics">
        sentiment_score
        market_mood
        trend_strength
        reversal_probability
        risk_level
        recommended_action
        confidence
      </div>
    </div>

    <div class="node">
      <div class="node-title">Gemini Flash Inference <span class="badge api">API</span></div>
      <div class="node-desc">OpenRouter · JSON mode · conservative risk persona · retry logic</div>
    </div>
  </div>


  <div class="section full">
    <div class="section-title">Trading Decision Engine</div>

    <div class="node">
      <div class="node-title">Composite Score System</div>
      <div class="node-desc">RSI · MACD · Bollinger · LLM sentiment · action · volatility · reversal</div>
    </div>

    <div class="node">
      <div class="node-title">Risk Gates</div>
      <div class="node-desc">high volatility → hold · low confidence → hold · extreme RSI → exit</div>
    </div>

    <div class="node">
      <div class="node-title">Decision Thresholds</div>
      <div class="node-desc">BUY ≥ 40 · SELL ≤ −30 · HOLD default</div>
    </div>
  </div>


  <div class="section">
    <div class="section-title">Backtesting</div>

    <div class="node">
      <div class="node-title">Portfolio Simulation</div>
      <div class="node-desc">$10k capital · 10% allocation · position tracking per asset</div>
    </div>

    <div class="node">
      <div class="node-title">Performance Metrics</div>
      <div class="node-desc">Sharpe · Drawdown · Win rate · Total return</div>
    </div>
  </div>


  <div class="section">
    <div class="section-title">Output</div>

    <div class="node">
      <div class="node-title">Trade Logs</div>
      <div class="node-desc">date · asset · price · decision · reasoning · confidence</div>
    </div>

    <div class="node">
      <div class="node-title">Analytics Export</div>
      <div class="node-desc">CSV + console performance summary</div>
    </div>
  </div>

</div>


<div class="stats">
  <div class="stat">
    <div class="stat-value">513</div>
    <div class="stat-label">Data Points</div>
  </div>
  <div class="stat">
    <div class="stat-value">10</div>
    <div class="stat-label">Coins</div>
  </div>
  <div class="stat">
    <div class="stat-value">22</div>
    <div class="stat-label">Indicators</div>
  </div>
  <div class="stat">
    <div class="stat-value">7</div>
    <div class="stat-label">Score Components</div>
  </div>
  <div class="stat">
    <div class="stat-value">±100</div>
    <div class="stat-label">Score Range</div>
  </div>
</div>

</body>
</html>
